# Source code for Gradle manipulation plugins

## Analyzer

The `analyzer` directory contains the gradle plugin that generates metadata information about aligned dependencies and the project version.

## Manipulation

The `manipulation` directory contains the gradle plugin that uses the medata information generated by the `alignment` plugin and modifies the project to use those dependencies and project version.


## Testing on a real project

The plugins can be tested on real projects like so:

In the root of the project to be tested, create a file named `align.gradle`

The contects of the file are the following:

```
import org.jboss.gm.analyzer.alignment.AlignmentPlugin

initscript {
	repositories {
		mavenLocal()
		mavenCentral()
	}
	dependencies {
		classpath 'org.jboss.gm.analyzer:analyzer:0.1-SNAPSHOT'
	}
}


allprojects {
	apply plugin: AlignmentPlugin
}
```

Now by executing the following command:

```
./gradlew --no-daemon --stacktrace --init-script align.gradle generateAlignmentMetadata -Dda.endpoint.url=http://some.da.server
```

you should get the `alignment.json` file in the root of the project.
